# Shared Tailscale/Headscale settings used by both host app and Talos subnet router
# For Headscale, set TS_LOGIN_SERVER to your Headscale URL and TS_AUTHKEY to a pre-auth key

TS_LOGIN_SERVER=https://headscale.example.com
TS_AUTHKEY=tskey-abc123
TS_HOSTNAME=host-app
ROUTER_HOSTNAME=host-app-router

# Advertised routes from Talos Tailscale subnet router (Talos + Service/Pod CIDRs)
TS_ROUTES=10.0.0.0/24,10.96.0.0/12,10.244.0.0/16

# Optional org identifier used by the registry endpoints
ORG_ID=default

# Optional aliases
HEADSCALE_URL=
HEADSCALE_AUTHKEY=

# Full-cluster deploy coordinates (used by setup-talos scripts)
# If not provided, sensible defaults are used.
CLUSTER=mycluster
ENDPOINT=https://10.0.0.10:6443
CP_NODES=10.0.0.10
WK_NODES=10.0.0.20

# Kubeconfig location (used by scripts and Makefile)
GN_KUBECONFIG=$HOME/.guildnet/kubeconfig

# Preflight + auto-heal tuning (Talos setup)
PRECHECK_PORT=50000
PRECHECK_TIMEOUT=3
PRECHECK_MAX_WAIT_SECS=600
PRECHECK_PING=0
REQUIRE_ENDPOINT_MATCH_CP=0
APPLY_RETRIES=10
APPLY_RETRY_DELAY=5
KUBE_READY_TRIES=90
KUBE_READY_DELAY=5

# Database (RethinkDB) setup toggle and service info
# RethinkDB must run inside the Talos/Kubernetes cluster. The Host App
# expects an in-cluster service (ClusterIP/LoadBalancer/NodePort). Do not
# configure a local loopback address for RethinkDB.
RETHINKDB_SERVICE_NAME=rethinkdb
RETHINKDB_NAMESPACE=

# Kubernetes options
K8S_NAMESPACE=default
K8S_IMAGE_PULL_SECRET=regcreds

# Optional registry credentials for creating pull secret (scripts/k8s-setup-registry-secret.sh)
# DOCKER_SERVER=docker.io
# DOCKER_USER=your-username
# DOCKER_PASS=your-password-or-token
# DOCKER_EMAIL=you@example.com

# Local dev helpers
# KIND_CLUSTER=kind
# WORKSPACE_DOMAIN=workspaces.127.0.0.1.nip.io
# INGRESS_CLASS_NAME=nginx
# CERT_MANAGER_ISSUER=
